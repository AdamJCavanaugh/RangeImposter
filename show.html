<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Range Imposter Answers</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <h1>Range Imposter</h1>
    <div id="answers">
        <h2>Answers Revealed</h2>
        <div id="answerGrid"></div>
    </div>

    <script src="renderAnswers.js"></script>
    <script>
        const raw = new URLSearchParams(window.location.search).get("data");

        if (!raw) {
            document.getElementById("answerGrid").textContent = "No data found in URL.";
        } else {
            try {
                const base64 = decodeURIComponent(raw);
                const json = atob(base64);
                const data = JSON.parse(json);

                if (!Array.isArray(data)) throw new Error("Expected an array");

                renderAnswers(data);
            } catch (err) {
                console.error("Decoding failed:", err);
                document.getElementById("answerGrid").textContent = "Invalid data format.";
            }
        }
    </script>
</body>

</html>